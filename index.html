<div style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
    <button id="logout-btn" style="background: #3E2723; color: white; border: 1px solid #C5A059; padding: 10px 20px; border-radius: 8px; font-size: 10px; font-weight: bold; cursor: pointer; letter-spacing: 1px;">
        SAIR DO SISTEMA
    </button>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBdw18PXbqdO0jqSBNKSTxBKVZzVlweMC0",
        authDomain: "cm-planner-84079.firebaseapp.com",
        projectId: "cm-planner-84079",
        storageBucket: "cm-planner-84079.firebasestorage.app",
        messagingSenderId: "109535738114",
        appId: "1:109535738114:web:19f07eae3077a496312a1b"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // SEGURANÇA: Se não estiver logado, volta para o login.html
    onAuthStateChanged(auth, (user) => {
        if (!user) {
            window.location.href = "login.html";
        }
    });

    // FUNÇÃO PARA SAIR
    document.getElementById('logout-btn').addEventListener('click', () => {
        signOut(auth).then(() => {
            window.location.href = "login.html";
        });
    });
</script>
